# FilePulse 简介，1.2.0 正式版发布，由于加壳，杀毒可能误报，请杀毒软件添加信任，媒体测试可以申请无壳版本。

FilePulse 是一款高效的对象信息搜索工具，对象包括 **文件** 和 **文件夹**，支持 **中文搜索**、**拼音搜索**、**拼音首字母搜索**
，支持**文件内容搜索**和**集群搜索**。  
文件夹大小将 **实时计算**，文件修改也会 **自动同步** 到本系统。  
系统支持 **HTTP1.1/HTTP2/HTTP3** 协议。

在未超频 **7900x + DDR5 + M.2 PCIe 4.0 固态硬盘** 及 **Windows 11 24h2** 系统下，FilePulse 可以实现：

- **2.58 秒** 全硬盘扫描 **200 万个对象**
- **文件名单次查询** 性能 **10 毫秒**

---
## 核心功能
- 核心功能1：文件名搜索类似everything，带有各种复杂筛选条件，主要用于用户的复杂搜索，可以毫秒级响应
- 核心功能2：文件内容搜索类似anytxt，通过提前定义文件名搜索条件筛选出需要索引的文件内容，当用户需要搜索的时候文件夹内容可以在毫秒级响应
- 核心功能3：快速启动器类似listary，输入关键字结果提前按照大多数习惯排序过，快速定位目标位置并启动
- 核心功能4：远程预览文件，支持常见文本格式，图片格式，文档格式，视频格式。
- 核心功能5：启动器面板类似音速启动，提前将常用软件进行添加（由于采用浏览器，所以拖拽无法获得完整路径，目前需要输入，未来打造原生应用则可使用拖拽）
- 核心功能6：集群组网使用核心功能1到4（启动面板没必要在集群上使用）

---

## 相对于其他同类产品的优势

1. **文件名核心搜索算法自主可控**，未套壳任何现成的磁盘搜索系统。
2. **支持文件内容搜索**，是目前的唯一的实时文件内容搜索系统，也就是用户保存的文件内容会实时更新到内容搜索系统中。
3. **支持集群搜索**，最多支持 **256 台服务器组成集群**，每一个节点是平等的，可选是否跟踪目标磁盘变动。
4. **支持远程操作**，包括 **远程下载**、**远程定位资源管理器中文件**、**普通权限打开远程节点文件**、**管理员权限打开远程节点文件
   **。
5. **支持复杂逻辑表达式**，包括非、与、或、左括号、右括号。
6. 支持 **高性能拼音搜索**、**拼音首字母搜索**、**中文搜索**。
7. **支持 HTTP1.1/HTTP2 / HTTP3 协议**，可 **远程操作** 与 **远程复杂查询**，支持 **远程播放**。
8. **文件夹大小实时计算**，所有数据 **实时同步**。
9. **内存动态增减**，当大量文件删除时，内存会 **自动回收**。
10. **支持暗色模式**

## 下载地址

- [https://github.com/FilePulseSoft/FilePulse/releases](https://github.com/FilePulseSoft/FilePulse/releases/)
- [https://www.filepulsesoft.com](https://www.filepulsesoft.com/)
---

## 启动说明

1. **以管理员权限运行 `FilePulse.exe`**。
2. **打开浏览器**，打开`http://127.0.0.1`然后输入默认用户名和密码都是`root`即可进入搜索页面

### 注意事项
- 下载程序后如果FilePulse.exe图标上显示一个盾牌，请将其放置到其他文件夹直到没有盾牌为止，否则会影响以普通权限打开某一个目标，如果你不需要这个功能可以忽略。
- 如果以普通方式运行，程序会自动切换至管理员权限，但是请不要在FilePulse.exe属性的兼容性标签中设置以管理员身份运行此程序，如果设置兼容性将会和前面提到的一样无法使用普通权限打开某一目标，如果你不需要这个功能可以忽略。
- 如果出现“卷更改日志处于非活动状态”则说明有一个盘符有问题，你需要修改config.json将drive_list移除有问题的盘符。
- 版本升级后最好将新下载的FilePulse单独放到一个新文件夹，以免旧的配置和新的配置冲突。
- 软件目前加了壳，可能会引起杀毒软件误报，请将FilePulse.exe添加为白名单即可解决。
- 新用户30天免费试用

## 与everything的比较文件名搜索，时间统计方式为浏览器请求查询接口，服务器等待响应时间，全部测速都非命中缓存

用户的版本可能是加壳的，会导致性能下降，媒体性能测试可以申请无壳版本，未来将全面提供无壳版本。

| 测试项目                            | FilePulse 1.0.1 (自带统计文件夹大小和扩展名索引)                                                             | Everything 1.4.1.1026+统计文件夹大小+扩展名索引 | Everything1.5.0.1391a+统计文件夹大小+扩展名索引        |
|---------------------------------|-----------------------------------------------------------------------------------------------|-------------------------------------|--------------------------------------------|
| 200万文件扫描全盘速度+构建存储结构速度           | <span style="color: red;">2.58秒</span>                                                        | 5.73秒                               | 4.26秒                                      |
| 200万文件查询一个大小写不敏感字母并修改时间降序排序     | 10.39毫秒                                                                                       | 10.38毫秒                             | 10.79毫秒                                    |
| 200万文件查询两个大小写不敏感字母并修改时间降序排序     | 9.28毫秒                                                                                        | 13.44毫秒                             | 9.21毫秒                                     |
| 200万文件查询三个大小写不敏感字母并修改时间降序排序     | 8.81毫秒                                                                                        | 13.70毫秒                             | 9.05毫秒                                     |
| 200万文件查询拼音一个大小写不敏感字母并修改时间降序排序   | <span style="color: red;">16.65毫秒</span>                                                      | 不原生支持                               | 不原生支持                                      |
| 200万文件查询拼音两个大小写不敏感字母并修改时间降序排序   | <span style="color: red;">16.88毫秒</span>                                                      | 不原生支持                               | 不原生支持                                      |
| 200万文件查询拼音三个大小写不敏感字母并修改时间降序排序   | <span style="color: red;">16.17毫秒</span>                                                      | 不原生支持                               | 不原生支持                                      |
| 200万文件查询拼音首字母一个大小写不敏感字母并修改时间降序排序 | <span style="color: red;">17.25毫秒</span>                                                      | 不原生支持                               | 不原生支持                                      |
| 200万文件查询拼音首字母两个大小写不敏感字母并修改时间降序排序 | <span style="color: red;">17.08毫秒</span>                                                      | 不原生支持                               | 不原生支持                                      |
| 200万文件查询拼音首字母三个大小写不敏感字母并修改时间降序排序 | <span style="color: red;">15.29毫秒</span>                                                      | 不原生支持                               | 不原生支持                                      |
| 支持HTTP1协议                       | <span style="color: red;">支持HTTP1.1</span>                                                    | 仅支持老旧HTTP1.0                        | 仅支持老旧HTTP1.0                               |
| 支持HTTP2协议                       | <span style="color: red;">支持HTTP2</span>                                                      | 不支持                                 | 不支持                                        |
| 支持HTTP3协议                       | <span style="color: red;">支持HTTP3</span>                                                      | 不支持                                 | 不支持                                        |
| 支持复杂逻辑表达式                       | 支持                                                                                            | 支持                                  | 支持                                         |
| 支持正则表达式                         | 支持                                                                                            | 支持                                  | 支持                                         |
| 对目标同时按文件名和文件路径双层筛选              | <span style="color: red;">支持</span>                                                           | 不支持                                 | 不支持                                        |
| 文件大小/文件夹大小筛选/排序                 | 支持                                                                                            | 支持                                  | 支持                                         |
| 修改时间筛选/排序                       | 支持                                                                                            | 支持                                  | 支持                                         |
| 文件名筛选/排序                        | 支持                                                                                            | 支持                                  | 支持                                         |
| 文件路径筛选/排序                       | 支持                                                                                            | 支持                                  | 支持                                         |
| 扩展名筛选/排序                        | 支持                                                                                            | 支持                                  | 支持                                         |
| 自定义格式筛选                         | 支持                                                                                            | 支持                                  | 支持                                         |
| 大小写不敏感匹配                        | 支持                                                                                            | 支持                                  | 支持                                         |
| 前缀匹配                            | 支持                                                                                            | 支持                                  | 支持                                         |
| 后缀匹配                            | 支持                                                                                            | 支持                                  | 支持                                         |
| 全字匹配                            | 支持                                                                                            | 支持                                  | 支持                                         |
| 变音字符匹配                          | 支持                                                                                            | 支持                                  | 支持                                         |
| 忽略符号匹配                          | <span style="color: green;">支持</span>                                                         | 不支持                                 | <span style="color: green;">支持</span>      |
| 忽略空白字符匹配                        | <span style="color: green;">支持</span>                                                         | 不支持                                 | <span style="color: green;">支持</span>      |
| 组网集群文件名搜索                       | <span style="color: red;">支持，最多支持256台服务器组成集群，256台机器可以互相挂载其余节点数据，每一个节点是平等的，可选是否跟踪目标磁盘变动</span> | 不支持                                 | 有限，必须将远程盘符映射到本地盘符名称，不仅占用宝贵的本地盘符名称，而且使用很不方便 |
| 普通权限打开远程节点文件                    | <span style="color: red;">支持</span>                                                           | 不支持                                 | 不支持                                        |
| 管理员权限打开远程节点文件                   | <span style="color: red;">支持</span>                                                           | 不支持                                 | 不支持                                        |
| 远程定位资源管理器中文件                    | <span style="color: red;">支持</span>                                                           | 不支持                                 | 不支持                                        |
| 远程文件下载                          | <span style="color: red;">支持</span>                                                           | 不支持                                 | 不支持                                        |
| 远程大文件断点续传                       | <span style="color: red;">HTTP1.1/2/3都支持断点续传</span>                                           | HTTP1.0不支持断点续传                      | HTTP1.0不支持断点续传                             |
| 快速定位到某一个文件夹中搜索而非全局搜索            | <span style="color: red;">支持</span>                                                           | 不支持                                 | 不支持                                        |
| 实时引擎，盘符任何变动都会实时同步到搜索系统中         | 支持                                                                                            | 支持                                  | 支持                                         |
| 绿色单文件不需要安装                      | 支持                                                                                            | 支持                                  | 支持                                         |

## 与anytxt的比较文件内容搜索，时间统计方式为浏览器请求查询接口，服务器等待响应时间，全部测速都非命中缓存

| 测试项目                          | FilePulse 1.0.1                                                                                    | Anytxt 1.3.2477                   |
|-------------------------------|----------------------------------------------------------------------------------------------------|-----------------------------------|
| 2480个txt文件组成的小说，构建搜索系统        | <span style="color: red;">748毫秒（max_batch:500），2.18秒（max_batch:50），max_batch越大速度越快对机器性能要求越高</span> | 16.38秒                            | 
| 在2480个文件中普通模式搜索一个词不排序         | <span style="color: red;">2.42毫秒</span>                                                            | 23毫秒                              |
| 在2480个文件中普通模式搜索两个词不排序         | <span style="color: red;">2.52毫秒</span>                                                            | 23毫秒                              |
| 在2480个文件中普通模式搜索三个词不排序         | <span style="color: red;">2.51毫秒</span>                                                            | 23毫秒                              |
| 在2480个文件中全文使用正则表达式逐个匹配        | <span style="color: red;">9.03毫秒</span>                                                            | 90毫秒                              |
| 在2480个文件中搜索一个词不排序高亮显示匹配部分片段预览 | <span style="color: red;">2.99毫秒</span>                                                            | 52.58毫秒                           |
| 在2480个文件中搜索两个词不排序高亮显示匹配部分片段预览 | <span style="color: red;">2.75毫秒</span>                                                            | 49.22毫秒                           |
| 在2480个文件中搜索两个词不排序高亮显示匹配部分片段预览 | <span style="color: red;">3.12毫秒</span>                                                            | 44.28毫秒                           |
| 复杂表达式包括非，与，或，左括号，右括号          | <span style="color: red;">完整支持</span>                                                              | 不支持括号优先级                          | 
| 实时引擎，盘符任何变动都会实时将内容同步到搜索系统中    | <span style="color: red;">完全实时系统，符合条件的文件保存的一瞬间立刻更新到搜索系统中</span>                                    | 不支持，定期扫描，无法实时更新                   |
| 绿色单文件不需要安装                    | <span style="color: red;">完全绿色，不需要安装，打开即可使用</span>                                                 | 需要安装                              |
| 遍历搜索系统所有文件逐个通配符搜索内容           | <span style="color: red;">支持，速度很快</span>                                                           | 支持，但速度极慢                          |
| 遍历搜索系统所有文件逐个正则表达式搜索内容         | <span style="color: red;">支持，速度很快</span>                                                           | 支持，但速度极慢                          |
| 分词普通搜索                        | <span style="color: red;">支持</span>                                                                | 支持                                |
| 分词正则搜索                        | <span style="color: red;">支持</span>                                                                | 不确定，应该没有，没有明确说明有这个功能              |
| 分词前缀搜索                        | <span style="color: red;">支持</span>                                                                | 不确定，应该没有，没有明确说明有这个功能              |
| 模糊搜索                          | <span style="color: red;">支持</span>                                                                | 不支持                               |
| 根据文档相关度排序                     | <span style="color: red;">支持</span>                                                                | 不支持                               |
| 根据文件名搜索结果进行二次筛选               | <span style="color: red;">完整支持</span>                                                              | 不支持，仅支持粗粒度文件夹筛选，文件夹筛选不支持通配符或正则表达式 |
| 根据文件完整路径排序                    | <span style="color: red;">支持，有排序索引</span>                                                          | 有限制支持，文件多了排序很慢                    |
| 根据文件名排序                       | <span style="color: red;">支持，有排序索引</span>                                                                | 有限制支持，文件多了排序很慢                   |
| 根据修改时间排序                      | <span style="color: red;">支持，有排序索引</span>                                                                | 有限制支持，文件多了排序很慢                   |
| 根据扩展名排序                       | <span style="color: red;">支持，有排序索引</span>                                                                | 有限制支持，文件多了排序很慢                   |

---

## 快速上手动画教程

录像会消耗性能，所以录像中显示的性能会略低于实际性能。

![example.gif](example.gif)

---

## 快捷键

| 全局快捷键 | 说明                                                       |
|-------|----------------------------------------------------------|
| alt+` | 打开文件名搜索页面，当对着一个windows的一个文件夹按alt+`，则会让搜索系统专门搜这个文件夹下的级联对象 |
| win+` | 打开文件内容搜索页面                                               |
| alt+f | 打开快速启动器，通过输入一些关键字立刻运行某一个程序      
| alt+w | 打开启动器面板，用户可以自己添加一些路径图标，未来可以通过双击即可打开      

| web界面快捷键                                | 说明                |
|-----------------------------------------|-------------------|
| `Alt + 1` / `Alt + 2` / `Alt + 3`       | 切换 Content Plugin |
| `Alt + 4`                               | 在搜索和快速启动器页面可以快速修改搜索类型（文件夹和文件，文件夹，文件） |
| `Alt + 1` / `Alt + 2`                   | 在启动器面板是用来快速切换分组 |
| `Alt + Page Up` / `Alt + Page Down` / `Ctrl + 左右光标` | 切换分页              |
| `上下光标键`                                 | 选择搜索结果表格中项目       |
| `左右光标键`                                 | 对于选中条目打开菜单        |
| `Enter键`                                | 执行菜单中条目           |

---

## 高级使用

### **更换证书**

自带证书为 **开发证书**，如需更换真实证书，替换 `certs` 目录下的文件。

### **开启 HTTP3**

默认同时开启 **HTTP2 / HTTP3**，但由于开发证书问题，可能会自动降级为 **HTTP2**。  
更换为 **真实证书** 后，即可正常使用 **HTTP3**。

### **高级表达式**

当Advanced expression为关闭状态的时候为简单表达式，Search Content和Path编辑框，支持非（!）,与（空格），或（|），左括号（(
），右括号（)）

当Advanced expression为开启状态的时候为高级表达式，Search Content和Path编辑框，支持非<not>，与<and>，或<or>，左括号<left>
，右括号<right>。

### **文件内容高级搜索**

当Linear
Search为关闭状态的时候为普通搜索，对应四种搜索模式：普通模式，正则表达式，前缀匹配，模糊匹配。其中模糊匹配性能最差，尽量避免使用。前缀匹配必须要有两个分词开始，而在简单表达式又以空格分隔，所以前缀匹配需要用高级表达式。

当Linear Search为开启状态的时候为线性搜索，对应两种搜索模式：通配符搜索，正则表达式搜索。两者都是对所有需要查询的文件进行逐个匹配，性能会变差。

### **连接远程服务器**
在登入界面直接的API Base URL中直接输入远程服务器的地址和端口号，例如 `https://abc.com:443`，然后输入用户名和密码即可连接到远程服务器。

### **远程挂载盘符**
1. Remote Servers中添加目标服务器的地址和端口号用户名和密码，系统会自动连接到目标服务器。http2和http3在写地址的时候用https://，http1.1用http://。
2. 连接后需要将目标服务器的盘符挂载到本地盘符，点击Mount Servers，选择刚才连接的server name，在回调的地址写正在访问的服务器地址。
3. mount需要大约几秒根据目标服务器文件多少而定，完成后就可以搜索远程服务器的文件名和文件内容了，就像在本地一样，搜索远程文件内容会传输大量数据，建议使用score模式只取top10。

### **配置修改**

一些配置目前还无法在web界面修改，需要手动修改配置文件 `config.json`。

server_name是服务器名称。

username，password，last_password_change是管理员账户的信息，此信息已经可以在web界面修改，密码一旦修改，所有过去签发的token将失效，例如浏览器记住了token，当密码修改后，再用旧的token搜索将被服务器拒绝。

port_https和port_http是服务器使用的端口

drive_list是服务器上监控的盘符列表，如果一旦修改drive_list，最好删除index文件夹，让搜索内容重新构建。

hot_keys是热键，现在有两种default_page就是按一个快捷键打开一个页面，current_path则是检查是否是一个windows文件夹，如果是则打开搜索系统专门搜这个文件夹下的级联对象。

open_link_after_boot表示软件启动后是否自动打开浏览器。

max_batch这个是批量处理大小，数值越大，内容搜索系统构建速度越快，但对机器性能要求越高，默认数值是10十分保守。我的机器内存够大，CPU够快，SSD够快，所以我设置为500，构建速度提升巨大。

### **异常处理**

如果搜索内容构建的时候无法分配内存，是max_batch设置过大，只需要修改`config.json` 文件，将 `max_batch` 设置为更小的值即可。然后重新运行。

如果搜索内容就构建卡住了，可以把`rules.json`里面的rules里面条目都删掉，相当于清理掉所有的规则，然后重新运行。

构建结果在`index`
目录下，可以随时删掉目录，重新构建，个人建议不要构建过大的纯文本，比如一个word文档500MB，但是里面大多是图片不会有问题，但是如果一个500MB的纯文本文件，内容是纯文字，那么搜索系统可能会花费很长的时间构建。而且这么大的纯文本文件在构建期间会花费巨量内存。



